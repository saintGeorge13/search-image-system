# search-image-system
20250422，图搜图、文搜图

******************************************      前提     ******************************************

* 使用milvus的轻量版本无法在windows环境下使用
    Ubuntu >= 20.04（x86_64 和 arm64）
    MacOS >= 11.0（苹果硅 M1/M2 和 x86_64）
* 一个可以正常加载huggingface模型库模型的环境（torch+transformers）
* 需要有显卡跑图片向量模型，默认模型参数1.7G

******************************************      安装     ******************************************

pip install pymilvus
pip install streamlit

******************************************      使用     ******************************************

1. 进入项目路径，将所有图片放入文件夹：gpt4o
2. 下载模型https://huggingface.co/openai/clip-vit-large-patch14，在steamlit.py文件中修改模型路径
3. bash streamlit.sh  （默认使用0号卡执行）
4. 根据输出的url，输入浏览器访问，如果在AutoDL服务器上运行，需要下载AutoDL SSH 隧道工具，将服务器端口映射到本地


******************************************      注意     ******************************************
1. 图片较多时第一次执行会很慢
2. 有文本时优先文本检索（英文效果更好，但都一般），以图搜图需要删除文字内容
